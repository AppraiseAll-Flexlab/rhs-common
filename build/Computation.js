Object.defineProperty(exports,"__esModule",{value:true});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();var _PureFunctions=require("./PureFunctions");function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}var Computation=function(){function Computation(effect){_classCallCheck(this,Computation);this._effect=effect;}_createClass(Computation,[{key:"onChange",value:function onChange(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}var _resolveOnChange=(0,_PureFunctions.resolveOnChange)(args),_onChange=_resolveOnChange._onChange,_default=_resolveOnChange._default;this._onChange=_onChange;this._default=_default;return this;}},{key:"require",value:function require(fields){this._require=fields;return this;}},{key:"when",value:function when(fn){this._when=fn;return this;}},{key:"async",value:function async(){this._async=true;return this;}},{key:"service",value:function service(fn){this._service=fn;return this;}},{key:"query",value:function query(model,_query){this._query={model:model,query:_query};return this;}},{key:"default",value:function _default(){this._type="default";return this;}},{key:"onSave",value:function onSave(){this._type="onSave";return this;}},{key:"readOnly",value:function readOnly(){this._readOnly=true;return this;}},{key:"asObject",value:function asObject(){this._asObject=true;return this;}},{key:"old",value:function old(){this._old=true;return this;}}],[{key:"of",value:function of(effect){return new Computation(effect);}}]);return Computation;}();exports.default=Computation;